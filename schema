--Добавить ограничения foreign keys для всех имеющихся связей между таблицами в БД, созданной в первом занятии. 
--Ограничения можно добавлять как в существующую таблицу (используя alter), так и изменив команду создания таблиц из прошлого урока. 
--Команды на добавление ограничений описать в файле schema.sql (редактировать файл из прошлого урока).
--Выявить необходимые ограничения (constraints) и добавить их в структуру базы данных. 
делайте это в файле schema.sql.

create table gamers (
	id bigint primary key generated always as identity,
	name varchar(200) not null,
	surname varchar(200) not null,
	active boolean not null default true
);

create table studios (
	id bigint primary key generated always as identity,
	name varchar(200) not null,
	studio_id integer
);

create table games (
	id bigint primary key generated always as identity,
	title varchar(999) not null,
	studio_id integer,
	constraint fk_studio_id foreign key (studio_id) references studios (id)
);

create table gamers_rates (
    date timestamp with time zone default current_timestamp,
    gamer_id integer not null,
    game_id integer not null,
    rate integer not null,
    constraint gamer_game_pkey primary key(gamer_id, game_id),
    constraint gamer_id_fkey foreign key (gamer_id) references gamers (id),
    constraint game_id_fkey foreign key (game_id) references games (id),
    constraint gamers_games_rate_between_0_and_10 check (rate > 0 and rate <= 10)
);